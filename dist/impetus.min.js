!function(e,n){if("function"==typeof define&&define.amd)define(["exports","module"],n);else if("undefined"!=typeof exports&&"undefined"!=typeof module)n(exports,module);else{var t={exports:{}};n(t.exports,t),e.Impetus=t.exports}}(this,function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=.3,i=.04,u=.11,r=function e(n){function r(){M.call(b,H,J)}function c(e){if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){var n=e.targetTouches[0]||e.changedTouches[0];return{x:n.clientX,y:n.clientY,id:n.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function d(e){var n=c(e);O||Q||(O=!0,W=!1,C=n.id,U=k=n.x,V=z=n.y,Z=[],m(U,V),document.addEventListener("touchmove",a),document.addEventListener("touchend",f),document.addEventListener("touchcancel",v),document.addEventListener("mousemove",a),document.addEventListener("mouseup",f))}function a(e){e.preventDefault();var n=c(e);O&&n.id===C&&(k=n.x,z=n.y,m(U,V),p())}function f(e){var n=c(e);O&&n.id===C&&v()}function v(){O=!1,m(U,V),w(),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",f),document.removeEventListener("touchcancel",v),document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",a)}function m(e,n){for(var t=Date.now();Z.length>0&&!(t-Z[0].time<=100);)Z.shift();Z.push({x:e,y:n,time:t})}function l(){var e=k-U,n=z-V;if(H+=e*g,J+=n*g,X){var t=x();0!==t.x&&(H-=e*h(t.x)*g),0!==t.y&&(J-=n*h(t.y)*g)}else x(!0);r(),U=k,V=z,N=!1}function h(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function p(){N||s(l),N=!0}function y(e,n){e&&(Y=e[0],D=e[1]),n&&(P=n[0],R=n[1])}function x(e){var n=0,t=0;return void 0!==Y&&H<Y?n=Y-H:void 0!==D&&H>D&&(n=D-H),void 0!==P&&J<P?t=P-J:void 0!==R&&J>R&&(t=R-J),e&&(0!==n&&(H=n>0?Y:D),0!==t&&(J=t>0?P:R)),{x:n,y:t,inBounds:0===n&&0===t}}function w(){var e=Z[0],n=Z[Z.length-1],t=n.x-e.x,o=n.y-e.y,i=n.time-e.time,u=i/15/g;j=t/u||0,G=o/u||0;var r=x();(Math.abs(j)>1||Math.abs(G)>1||!r.inBounds)&&(W=!0,s(E))}function E(){if(W){j*=B,G*=B,H+=j,J+=G;var e=x();if(Math.abs(j)>K||Math.abs(G)>K||!e.inBounds){if(X){var n=2.5;if(0!==e.x)if(e.x*j<=0)j+=e.x*i;else{var t=e.x>0?n:-n;j=(e.x+t)*u}if(0!==e.y)if(e.y*G<=0)G+=e.y*i;else{var t=e.y>0?n:-n;G=(e.y+t)*u}}else 0!==e.x&&(H=e.x>0?Y:D,j=0),0!==e.y&&(J=e.y>0?P:R,G=0);r(),s(E)}else W=!1}}var L=n.source,b=void 0===L?document:L,M=n.update,T=n.multiplier,g=void 0===T?1:T,q=n.friction,B=void 0===q?.92:q,A=n.initialValues,F=n.boundX,I=n.boundY,S=n.bounce,X=void 0===S||S;t(this,e);var Y,D,P,R,U,V,k,z,C,j,G,H=0,J=0,K=o*g,N=!1,O=!1,Q=!1,W=!1,Z=[];!function(){if(b="string"==typeof b?document.querySelector(b):b,!b)throw new Error("IMPETUS: source not found.");if(!M)throw new Error("IMPETUS: update function not defined.");A&&(A[0]&&(H=A[0]),A[1]&&(J=A[1]),r()),y(F,I),b.addEventListener("touchstart",d),b.addEventListener("mousedown",d)}(),this.pause=function(){O=!1,Q=!0},this.resume=function(){Q=!1},this.setValues=function(e,n){"number"==typeof e&&(H=e),"number"==typeof n&&(J=n)},this.setBounds=function(e,n){y(e,n)},this.setMultiplier=function(e){g=e,K=o*g}};n.exports=r;var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()});
!function(e,n){if("function"==typeof define&&define.amd)define(["exports","module"],n);else if("undefined"!=typeof exports&&"undefined"!=typeof module)n(exports,module);else{var t={exports:{}};n(t.exports,t),e.Impetus=t.exports}}(this,function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=.3,i=.04,u=.11,r=function e(n){function r(){g.call(T,O,Q)}function s(){A.call(T,O,Q)}function d(e){if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){var n=e.targetTouches[0]||e.changedTouches[0];return{x:n.clientX,y:n.clientY,id:n.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function f(e){var n=d(e);$||_||($=!0,ee=!1,J=n.id,z=G=n.x,j=H=n.y,ne=[],h(z,j),document.addEventListener("touchmove",m),document.addEventListener("touchend",v),document.addEventListener("touchcancel",l),document.addEventListener("mousemove",m),document.addEventListener("mouseup",v))}function m(e){e.preventDefault();var n=d(e);$&&n.id===J&&(G=n.x,H=n.y,h(z,j),x())}function v(e){var n=d(e);$&&n.id===J&&l()}function l(){$=!1,h(z,j),L(),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",v),document.removeEventListener("touchcancel",l),document.removeEventListener("mouseup",v),document.removeEventListener("mousemove",m)}function h(e,n){for(var t=Date.now();ne.length>0&&!(t-ne[0].time<=100);)ne.shift();ne.push({x:e,y:n,time:t})}function p(){var e=G-z,n=H-j;if(O+=e*B,Q+=n*B,P){var t=E();0!==t.x&&(O-=e*y(t.x)*B),0!==t.y&&(Q-=n*y(t.y)*B)}else E(!0);r(),z=G,j=H,Z=!1}function y(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function x(){Z||c(p),Z=!0}function w(e,n){e&&(R=e[0],U=e[1]),n&&(V=n[0],k=n[1])}function E(e){var n=0,t=0;return void 0!==R&&O<R?n=R-O:void 0!==U&&O>U&&(n=U-O),void 0!==V&&Q<V?t=V-Q:void 0!==k&&Q>k&&(t=k-Q),e&&(0!==n&&(O=n>0?R:U),0!==t&&(Q=t>0?V:k)),{x:n,y:t,inBounds:0===n&&0===t}}function L(){var e=ne[0],n=ne[ne.length-1],t=n.x-e.x,o=n.y-e.y,i=n.time-e.time,u=i/15/B;K=t/u||0,N=o/u||0;var r=E();Math.abs(K)>1||Math.abs(N)>1||!r.inBounds?(ee=!0,c(b)):s()}function b(){if(ee){K*=D,N*=D,O+=K,Q+=N;var e=E();if(Math.abs(K)>W||Math.abs(N)>W||!e.inBounds){if(P){var n=2.5;if(0!==e.x)if(e.x*K<=0)K+=e.x*i;else{var t=e.x>0?n:-n;K=(e.x+t)*u}if(0!==e.y)if(e.y*N<=0)N+=e.y*i;else{var t=e.y>0?n:-n;N=(e.y+t)*u}}else 0!==e.x&&(O=e.x>0?R:U,K=0),0!==e.y&&(Q=e.y>0?V:k,N=0);r(),te=c(b)}else ee=!1,s()}}var M=n.source,T=void 0===M?document:M,g=n.update,F=n.onFinish,A=void 0===F?function(){}:F,q=n.multiplier,B=void 0===q?1:q,C=n.friction,D=void 0===C?.92:C,I=n.initialValues,S=n.boundX,X=n.boundY,Y=n.bounce,P=void 0===Y||Y;t(this,e);var R,U,V,k,z,j,G,H,J,K,N,O=0,Q=0,W=o*B,Z=!1,$=!1,_=!1,ee=!1,ne=[],te=null;!function(){if(T="string"==typeof T?document.querySelector(T):T,!T)throw new Error("IMPETUS: source not found.");if(!g)throw new Error("IMPETUS: update function not defined.");I&&(I[0]&&(O=I[0]),I[1]&&(Q=I[1]),r()),w(S,X),T.addEventListener("touchstart",f),T.addEventListener("mousedown",f)}(),this.stop=function(){a(te)},this.pause=function(){$=!1,_=!0},this.resume=function(){_=!1},this.setValues=function(e,n){"number"==typeof e&&(O=e),"number"==typeof n&&(Q=n)},this.setBounds=function(e,n){w(e,n)},this.setMultiplier=function(e){B=e,W=o*B}};n.exports=r;for(var c=window.requestAnimationFrame,a=window.cancelAnimationFrame,s=["webkit","moz"],d=0,f=0;f<s.length&&!c;++f)c=window[s[f]+"RequestAnimationFrame"],a=window[s[f]+"CancelAnimationFrame"]||window[s[f]+"CancelRequestAnimationFrame"];c||(c=function(e,n){var t=(new Date).getTime(),o=Math.max(0,16-(t-d)),i=window.setTimeout(function(){e(t+o)},o);return d=t+o,i}),a||(a=function(e){clearTimeout(e)})});